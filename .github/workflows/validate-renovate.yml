---
name: validate renovate config

on:
  pull_request:
  workflow_dispatch:
  push:
    branches:
      - main

jobs:
  renovate_validate:
    name: Validate renovate config
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: renovate-config-validator
        run: >
          docker run
          --volume $(pwd):/repo:Z
          --workdir="/repo"
          --env LOG_LEVEL=debug
          --rm
          renovate/renovate:slim
          renovate-config-validator
